---
layout:     post                    # 使用的布局（不需要改）
title:      python函数内变量定义调用异常               # 标题 
subtitle:   		 #副标题
date:       2018-4-1              # 时间
author:     Living                      # 作者
header-img: img/post-bg-2015.jpg    #这篇文章标题背景图片
catalog: true                       # 是否归档
tags:                               #标签
    - 编程
---
> 在智能小管家项目的过程中，我需要注册和绑定函数只运行一次，取得其返回的*设备标识码*就行，但是我用不想用全局变量的调用形式。因此想做一个判断检测，如果该变量已经不存在，那就创建一个。具体实现如下：
![yichang1](https://s1.ax1x.com/2018/04/01/9zFa80.png)

但是运行的时候却报错。
![错误提示1](https://s1.ax1x.com/2018/04/01/9zFyVJ.png)

引用前没有被声明？？？

然后改成这样
![代码2](https://s1.ax1x.com/2018/04/01/9zFTVH.png)
就可以了

原因是因为，python解析器解析的时候，如果if语句没有满足的时候，变量就没有被声明，因此解析不通过，所以写成if else就能骗过解析器，虽然两个写法目的完全一样。

